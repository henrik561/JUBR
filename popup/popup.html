<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Jira Plugin Settings</title>
  <!-- We include jquery.js (which you already have in your folder) -->
  <script src="jquery.js"></script>
  <style>
      body {
          font-family: Arial, sans-serif;
          width: 300px;
          padding: 10px;
      }
      label {
          display: block;
          margin-top: 10px;
      }
      input {
          width: 100%;
          padding: 5px;
          margin-top: 5px;
      }
      button {
          margin-top: 15px;
          padding: 8px 12px;
      }
      #status {
          margin-top: 10px;
          color: green;
      }
  </style>
</head>
<body>
<h1>Jira Credentials</h1>
<form id="credentialsForm">
  <label for="email">Email:</label>
  <input type="email" id="email" name="email" required>

  <label for="apiToken">API Token:</label>
  <input type="text" id="apiToken" name="apiToken" required>

  <button type="submit">Save</button>
</form>
<div id="status"></div>

<script>
    $(document).ready(function() {
        // Load any previously saved credentials and populate the form.
        chrome.storage.sync.get(['jiraEmail', 'jiraApiToken'], function(result) {
            if (result.jiraEmail) {
                $('#email').val(result.jiraEmail);
            }
            if (result.jiraApiToken) {
                $('#apiToken').val(result.jiraApiToken);
            }
        });

        // When the form is submitted, save the credentials.
        $('#credentialsForm').submit(function(e) {
            e.preventDefault();
            var email = $('#email').val();
            var token = $('#apiToken').val();

            chrome.storage.sync.set({ jiraEmail: email, jiraApiToken: token }, function() {
                $('#status').text('Credentials saved successfully.');
            });
        });
    });
</script>
</body>
</html>